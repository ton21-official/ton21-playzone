<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
  <title>T21 Play Zone ‚Äî Mining</title>
  <meta name="color-scheme" content="dark light">
  <link rel="icon" href="https://raw.githubusercontent.com/ton21-official/ton21_official/main/logo.png"/>

  <style>
    :root{
      --bg:#050814;
      --panel:#0f1524;
      --panel2:#0b1020;
      --border:#1e2942;
      --txt:#e9f0ff;
      --muted:#9fb0c3;
      --accent:#46b2ff;
      --green:#35d49b;
      --orange:#ffb458;
      --red:#ff5c7a;
      --gold1:#ffdf88;
      --gold2:#f0cf6d;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:
        radial-gradient(1200px 700px at 50% -10%, #1b2232 0%, #050814 60%),
        radial-gradient(800px 500px at 120% 110%, #132033 0%, transparent 60%);
      color:var(--txt);
      font:16px/1.45 system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    }
    .wrap{max-width:960px;margin:0 auto;padding:16px 14px 32px;}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:32px;height:32px;border-radius:999px;
      background:#02040a url("https://raw.githubusercontent.com/ton21-official/ton21_official/main/logo.png") center/cover no-repeat;
      box-shadow:0 0 18px rgba(70,178,255,.6);
    }
    .brand-title{display:flex;flex-direction:column}
    .brand-title span:first-child{font-weight:700;font-size:17px}
    .brand-title span:last-child{font-size:12px;color:var(--muted)}
    .topbar{display:flex;gap:8px;align-items:center}
    select{
      appearance:none;
      background:#0b1326;
      border:1px solid #253354;
      color:var(--txt);
      padding:8px 26px 8px 10px;
      border-radius:999px;
      font-size:13px;
    }

    .card{
      background:linear-gradient(180deg,#11172a 0%, #090f20 100%);
      border-radius:18px;
      border:1px solid #1e2942;
      padding:16px 14px 18px;
      box-shadow:0 18px 40px rgba(0,0,0,.6);
    }
    .title-main{text-align:center;margin:0 0 10px;font-weight:700;font-size:18px}
    .subtitle{text-align:center;margin:0 0 16px;font-size:13px;color:var(--muted)}

    .balance-box{
      text-align:center;
      padding:10px 8px 14px;
      border-radius:14px;
      background:radial-gradient(circle at 50% 0,#1e2740 0, #0b1020 55%);
      border:1px solid #222c48;
      margin-bottom:14px;
    }
    .balance-label{font-size:13px;color:var(--muted);margin-bottom:4px}
    .balance-value{font-size:28px;font-weight:800;letter-spacing:0.03em}

    .grid2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;margin-bottom:14px}
    .pill{
      padding:10px 10px;
      border-radius:14px;
      border:1px solid #1e2942;
      background:#0b1224;
      font-size:12px;
    }
    .pill-label{color:var(--muted);margin-bottom:4px}
    .pill-value{font-weight:600}

    .btn{
      width:100%;
      border-radius:999px;
      border:none;
      padding:12px 16px;
      font-size:15px;
      font-weight:700;
      cursor:pointer;
      margin-bottom:8px;
      transition:transform .05s ease, box-shadow .05s ease, opacity .2s;
    }
    .btn:active{transform:translateY(1px);box-shadow:none}
    .btn[disabled]{opacity:.55;cursor:default}
    .btn-main{
      background:linear-gradient(90deg,#20c6ff,#6af0c4);
      color:#031018;
      box-shadow:0 10px 26px rgba(65,199,255,.4);
    }
    .btn-ad{
      background:linear-gradient(90deg,#ffb458,#ff7e5a);
      color:#1a0700;
      box-shadow:0 10px 26px rgba(255,168,82,.42);
    }
    .btn-secondary{
      background:transparent;
      color:var(--accent);
      border:1px solid #274066;
    }
    .hint{font-size:12px;color:var(--muted);text-align:center;margin-bottom:10px;}

    .section{
      margin-top:16px;
      padding:12px 10px;
      border-radius:14px;
      background:var(--panel2);
      border:1px solid #1a2440;
    }
    .section h3{
      margin:0 0 8px;
      font-size:14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
    }
    .section p{margin:4px 0;font-size:13px;color:var(--muted);}

    .wallet-input{
      width:100%;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid #273553;
      background:#050a18;
      color:var(--txt);
      font-size:13px;
      margin-bottom:8px;
    }
    .wallet-note{font-size:11px;color:var(--muted);margin-bottom:6px;}
    .info-small{font-size:11px;color:var(--muted);}

    .row-inline{display:flex;gap:8px;align-items:center;flex-wrap:wrap;}
    .row-inline .btn{margin-bottom:0;}

    .timer-text{font-size:12px;color:var(--muted);text-align:center;margin-bottom:6px;}
    .tag{
      display:inline-flex;align-items:center;gap:4px;
      padding:2px 8px;border-radius:999px;
      font-size:11px;border:1px solid #28436a;color:var(--muted);
    }

    .footer{
      margin-top:14px;
      text-align:center;
      font-size:11px;
      color:var(--muted);
    }

    /* fake ad modal */
    .modal{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background:rgba(0,0,0,.65);
      z-index:50;
    }
    .modal-box{
      width:min(420px,92vw);
      background:#0a1020;
      border-radius:16px;
      border:1px solid #283759;
      padding:16px 14px;
    }
    .modal-title{margin:0 0 6px;font-size:15px;font-weight:600;}
    .modal-text{margin:0 0 12px;font-size:13px;color:var(--muted);}
    .progress{
      height:10px;border-radius:999px;
      background:#050814;
      border:1px solid #1f2c49;
      overflow:hidden;
      margin-bottom:10px;
    }
    .progress>i{
      display:block;height:100%;
      width:0;
      background:linear-gradient(90deg,#20c6ff,#6af0c4);
      transition:width 1s linear;
    }
    .modal-actions{display:flex;gap:8px;margin-top:6px;}
    .modal-actions .btn{flex:1;margin-bottom:0;font-size:14px;}

    /* flash */
    .flash{
      position:fixed;
      top:14px;left:50%;
      transform:translateX(-50%);
      background:#101a30;
      border-radius:12px;
      border:1px solid #274066;
      color:#cbe6ff;
      padding:7px 14px;
      font-size:13px;
      display:none;
      z-index:60;
    }
    @media (max-width:480px){
      .wrap{padding:12px 10px 20px;}
      .card{padding:14px 12px 16px;}
      .title-main{font-size:17px;}
    }
  </style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo"></div>
      <div class="brand-title">
        <span>Ton21 Mining</span>
        <span id="subtitle">Virtual pre-mine like Pi Network</span>
      </div>
    </div>
    <div class="topbar">
      <span style="font-size:14px">üåê</span>
      <select id="langSel">
        <option value="en">EN</option>
        <option value="ru" selected>RU</option>
        <option value="cn">‰∏≠Êñá</option>
        <option value="in">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
        <option value="am">’Ä’°’µ</option>
      </select>
    </div>
  </header>

  <div class="card">
    <h2 class="title-main" id="mainTitle">T21 Play Zone ‚Äî Mining</h2>
    <div class="subtitle" id="subNote">Virtual pre-mine. Balance is not on-chain yet.</div>

    <div class="balance-box">
      <div class="balance-label" id="balLabel">Your balance</div>
      <div class="balance-value"><span id="balanceValue">0</span> T21</div>
    </div>

    <div class="grid2">
      <div class="pill">
        <div class="pill-label" id="rateLabel">Mining speed</div>
        <div class="pill-value" id="rateValue">+20 T21 / day</div>
      </div>
      <div class="pill">
        <div class="pill-label" id="adRateLabel">Ad bonus</div>
        <div class="pill-value" id="adRateValue">+5 T21 / ad ‚Ä¢ 10/day</div>
      </div>
    </div>

    <div class="hint">
      <span class="tag" id="virtualTag">Virtual pre-mine</span>
      <span id="noPayoutYet"> No real payouts yet ‚Äî only internal stats.</span>
    </div>

    <button class="btn btn-main" id="mineBtn">‚ñ∂ Start / Claim 20 T21</button>
    <div class="timer-text" id="mineTimer">Next daily bonus in 24:00:00</div>

    <button class="btn btn-ad" id="adBtn">üé¨ Watch ad (+5 T21)</button>
    <div class="timer-text" id="adInfo">Ad bonus: 0 / 10 used today</div>

    <div class="section">
      <h3>
        <span id="walletTitle">Your TON address (future payouts)</span>
      </h3>
      <p id="walletText1">Now everything is virtual. Later you will manually send T21 to active miners.</p>
      <p id="walletText2" class="info-small">
        We save the address to know how much each user mined when real payouts start.
      </p>
      <input id="walletInput" class="wallet-input" placeholder="EQ... / UQ..." autocomplete="off"/>
      <div class="wallet-note" id="walletNote">Address is stored locally in this browser.</div>
      <button class="btn btn-secondary" id="saveWalletBtn">Save address</button>
    </div>

    <div class="section">
      <h3>
        <span id="aboutTitle">About Ton21</span>
      </h3>
      <p id="aboutP1"></p>
      <p id="aboutP2"></p>
      <p id="aboutP3"></p>
    </div>

    <div class="section">
      <h3>
        <span id="howTitle">How mining works</span>
      </h3>
      <p id="howP1"></p>
      <p id="howP2"></p>
      <p id="howP3"></p>
    </div>

    <div class="section">
      <h3>
        <span id="shareTitle">Invite & Share</span>
      </h3>
      <p id="shareText"></p>
      <div class="row-inline">
        <button class="btn btn-secondary" id="shareBtn">Share Ton21 Mining</button>
      </div>
    </div>

    <div class="footer" id="footerText">
      Powered by Ton21 Project ‚Ä¢ v0.2 virtual pre-mine ‚Ä¢ Balance stored in browser (localStorage)
    </div>
  </div>
</div>

<div class="flash" id="flash"></div>

<!-- Fake Ad modal -->
<div class="modal" id="adModal">
  <div class="modal-box">
    <h3 class="modal-title" id="adModalTitle">Sponsored video</h3>
    <p class="modal-text" id="adModalText">Please wait 30 seconds to receive your bonus.</p>
    <div class="progress"><i id="adBar"></i></div>
    <div class="timer-text" id="adCountdownText">00:30</div>
    <div class="modal-actions">
      <button class="btn btn-secondary" id="adCloseBtn" disabled>Close</button>
      <button class="btn btn-main" id="adClaimBtn" disabled>Get reward</button>
    </div>
  </div>
</div>

<script>
  // ---------- settings ----------
  var DAILY_REWARD = 20;
  var AD_REWARD = 5;
  var MAX_ADS_PER_DAY = 10;
  var AD_SECONDS = 30;
  var DAY_MS = 24 * 60 * 60 * 1000;

  // ---------- backend config ----------
  const API = "https://t21-playzone-api.t21playzone.workers.dev";
  const USER_ID_KEY = "t21m_userId";

  // unique user id (stored locally, used on backend)
  var userId = localStorage.getItem(USER_ID_KEY);
  if (!userId) {
    try {
      if (window.crypto && crypto.randomUUID) {
        userId = crypto.randomUUID();
      } else {
        userId = "u_" + Date.now() + "_" + Math.floor(Math.random() * 1e9);
      }
    } catch(e){
      userId = "u_" + Date.now() + "_" + Math.floor(Math.random() * 1e9);
    }
    localStorage.setItem(USER_ID_KEY, userId);
  }

  // ---------- translations ----------
  var T = {
    en:{
      subtitle:"Virtual pre-mine like Pi Network",
      mainTitle:"T21 Play Zone ‚Äî Mining",
      subNote:"Virtual pre-mine. Balance is off-chain and stored locally (later ‚Äî on server).",
      balLabel:"Your balance",
      rateLabel:"Mining speed",
      rateValue:"+20 T21 / day",
      adRateLabel:"Ad boost",
      adRateValue:"+5 T21 / ad ‚Ä¢ up to 10 per day",
      virtualTag:"Virtual pre-mine",
      noPayoutYet:" No real payouts yet ‚Äî internal stats only.",
      mineBtnReady:"‚ñ∂ Start / Claim 20 T21",
      mineBtnBusy:"Processing...",
      mineReady:"Daily bonus is available now.",
      mineNext:"Next daily bonus in",
      adBtn:"üé¨ Watch ad (+5 T21)",
      adInfo:function(used){return "Ad bonus: "+used+" / 10 used today";},
      adLimit:"Daily ad limit reached (10 / 10).",
      walletTitle:"Your TON address (for future payouts)",
      walletText1:"Right now everything is virtual. Later you will manually send real T21 to active miners.",
      walletText2:"We save the address to know how much each miner earned when payouts start.",
      walletNote:"The address is stored locally in this browser (and later can be synced to server).",
      aboutTitle:"About Ton21",
      aboutP1:"Ton21 (T21) is a community-driven token with a fixed supply on the TON blockchain ‚Äî inspired by Bitcoin‚Äôs 21M idea.",
      aboutP2:"The mission is to build a long-term ecosystem: games, airdrops, rewards, and tools for the TON community.",
      aboutP3:"Virtual mining in this mini-app helps distribute attention and future rewards among early supporters.",
      howTitle:"How mining works",
      howP1:"Once per 24 hours you can tap the Mining button and receive +20 T21 to your virtual balance.",
      howP2:"+5 T21 for each ad view, up to 10 times per day. Ads can be rewarded or our own promos.",
      howP3:"Later balances may be exported and matched with your TON address for manual airdrops or rewards.",
      shareTitle:"Invite & Share",
      shareText:"Share the mining app with friends. The more active miners we have, the stronger the Ton21 ecosystem becomes.",
      flashSaved:"‚úÖ Address saved",
      flashBadAddr:"‚ö†Ô∏è Enter a valid TON address (starts with EQ or UQ).",
      flashMine:"+20 T21 added to your balance.",
      flashAd:"+5 T21 added for watching the ad.",
      flashAdStart:"Ad started ‚Äî please wait 30 seconds‚Ä¶",
      modalMineTitle:"Mining bonus ‚Äî watch first",
      modalMineText:"Watch this short sponsored video (30 seconds). After that your +20 T21 daily bonus will be credited.",
      modalAdTitle:"Ad reward",
      modalAdText:"+5 T21 will be credited after 30 seconds of viewing.",
      modalBtnClose:"Close",
      modalBtnGet:"Get reward",
      needOnline:"If sharing does not open, copy the link manually."
    },
    ru:{
      subtitle:"–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π pre-mine –∫–∞–∫ Pi Network",
      mainTitle:"T21 Play Zone ‚Äî –ú–∞–π–Ω–∏–Ω–≥",
      subNote:"–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–∞–π–Ω–∏–Ω–≥. –ë–∞–ª–∞–Ω—Å –≤–Ω–µ –±–ª–æ–∫—á–µ–π–Ω–∞, —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (–ø–æ–∑–∂–µ ‚Äî –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ).",
      balLabel:"–í–∞—à –±–∞–ª–∞–Ω—Å",
      rateLabel:"–°–∫–æ—Ä–æ—Å—Ç—å –º–∞–π–Ω–∏–Ω–≥–∞",
      rateValue:"+20 T21 / –¥–µ–Ω—å",
      adRateLabel:"–†–µ–∫–ª–∞–º–Ω—ã–π –±—É—Å—Ç",
      adRateValue:"+5 T21 –∑–∞ —Ä–µ–∫–ª–∞–º—É ‚Ä¢ –¥–æ 10 –≤ —Å—É—Ç–∫–∏",
      virtualTag:"–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π pre-mine",
      noPayoutYet:" –ü–æ–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç –Ω–µ—Ç ‚Äî —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.",
      mineBtnReady:"‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å / –ü–æ–ª—É—á–∏—Ç—å 20 T21",
      mineBtnBusy:"–û–±—Ä–∞–±–æ—Ç–∫–∞...",
      mineReady:"–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å –¥–æ—Å—Ç—É–ø–µ–Ω.",
      mineNext:"–°–ª–µ–¥—É—é—â–∏–π –±–æ–Ω—É—Å —á–µ—Ä–µ–∑",
      adBtn:"üé¨ –°–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∫–ª–∞–º—É (+5 T21)",
      adInfo:function(used){return "–†–µ–∫–ª–∞–º–Ω—ã–π –±–æ–Ω—É—Å: "+used+" / 10 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∑–∞ —Å–µ–≥–æ–¥–Ω—è";},
      adLimit:"–õ–∏–º–∏—Ç —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è (10 / 10).",
      walletTitle:"–í–∞—à TON-–∞–¥—Ä–µ—Å (–¥–ª—è –±—É–¥—É—â–∏—Ö –≤—ã–ø–ª–∞—Ç)",
      walletText1:"–°–µ–π—á–∞—Å –≤—Å—ë –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ. –ü–æ–∑–∂–µ —Ç—ã –≤—Ä—É—á–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∏—à—å —Ä–µ–∞–ª—å–Ω—ã–µ T21 –∞–∫—Ç–∏–≤–Ω—ã–º –º–∞–π–Ω–µ—Ä–∞–º.",
      walletText2:"–ú—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∞–¥—Ä–µ—Å, —á—Ç–æ–±—ã –ø–æ–Ω–∏–º–∞—Ç—å, –∫–æ–º—É –∏ —Å–∫–æ–ª—å–∫–æ –Ω–∞—á–∏—Å–ª—è—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –≤—ã–ø–ª–∞—Ç.",
      walletNote:"–ê–¥—Ä–µ—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ —ç—Ç–æ–º –±—Ä–∞—É–∑–µ—Ä–µ (–ø–æ–∑–∂–µ –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å —Å–µ—Ä–≤–µ—Ä–æ–º).",
      aboutTitle:"–û Ton21",
      aboutP1:"Ton21 (T21) ‚Äî —Ç–æ–∫–µ–Ω —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —ç–º–∏—Å—Å–∏–µ–π –≤ —Å–µ—Ç–∏ TON, –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω –∏–¥–µ–µ–π 21M –∫–∞–∫ —É Bitcoin.",
      aboutP2:"–ù–∞—à–∞ –º–∏—Å—Å–∏—è ‚Äî –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞: –∏–≥—Ä—ã, airdrop-–∫–∞–º–ø–∞–Ω–∏–∏, –Ω–∞–≥—Ä–∞–¥—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ TON.",
      aboutP3:"–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–∞–π–Ω–∏–Ω–≥ –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ø–æ–º–æ–≥–∞–µ—Ç —á–µ—Å—Ç–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±—É–¥—É—â–µ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–∞–Ω–Ω–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏.",
      howTitle:"–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–∞–π–Ω–∏–Ω–≥",
      howP1:"–†–∞–∑ –≤ 24 —á–∞—Å–∞ –º–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –ú–∞–π–Ω–∏–Ω–≥ –∏ –ø–æ–ª—É—á–∏—Ç—å +20 T21 –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å.",
      howP2:"+5 T21 –∑–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∫–ª–∞–º—ã, –¥–æ 10 —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏. –≠—Ç–æ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∫–ª–∞–º–Ω—ã–µ —Ä–æ–ª–∏–∫–∏ –∏–ª–∏ –Ω–∞—à–∏ –ø—Ä–æ–º–æ.",
      howP3:"–ü–æ–∑–∂–µ —ç—Ç–∏ –±–∞–ª–∞–Ω—Å—ã –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–≤—è–∑–∞—Ç—å —Å TON-–∞–¥—Ä–µ—Å–æ–º –¥–ª—è —Ä—É—á–Ω—ã—Ö airdrop-–≤—ã–ø–ª–∞—Ç.",
      shareTitle:"–ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–∑–µ–π",
      shareText:"–ü–æ–¥–µ–ª–∏—Å—å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º —Å –¥—Ä—É–∑—å—è–º–∏. –ß–µ–º –±–æ–ª—å—à–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –º–∞–π–Ω–µ—Ä–æ–≤ ‚Äî —Ç–µ–º —Å–∏–ª—å–Ω–µ–µ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ Ton21.",
      flashSaved:"‚úÖ –ê–¥—Ä–µ—Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω",
      flashBadAddr:"‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π TON-–∞–¥—Ä–µ—Å (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å EQ –∏–ª–∏ UQ).",
      flashMine:"+20 T21 –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞ –±–∞–ª–∞–Ω—Å.",
      flashAd:"+5 T21 –∑–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∫–ª–∞–º—ã.",
      flashAdStart:"–†–µ–∫–ª–∞–º–∞ –∑–∞–ø—É—â–µ–Ω–∞ ‚Äî –ø–æ–¥–æ–∂–¥–∏—Ç–µ 30 —Å–µ–∫—É–Ω–¥‚Ä¶",
      modalMineTitle:"–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å ‚Äî —Å–Ω–∞—á–∞–ª–∞ —Ä–µ–∫–ª–∞–º–∞",
      modalMineText:"–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–π —Ä–æ–ª–∏–∫ (30 —Å–µ–∫). –ü–æ—Å–ª–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±—É–¥–µ—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–æ +20 T21.",
      modalAdTitle:"–†–µ–∫–ª–∞–º–Ω—ã–π –±–æ–Ω—É—Å",
      modalAdText:"+5 T21 –±—É–¥–µ—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–æ –ø–æ—Å–ª–µ 30 —Å–µ–∫—É–Ω–¥ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.",
      modalBtnClose:"–ó–∞–∫—Ä—ã—Ç—å",
      modalBtnGet:"–ü–æ–ª—É—á–∏—Ç—å",
      needOnline:"–ï—Å–ª–∏ –æ–∫–Ω–æ –Ω–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å ‚Äî —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –≤—Ä—É—á–Ω—É—é."
    },
    cn:{
      subtitle:"Á±ª‰ºº Pi Network ÁöÑËôöÊãüÈ¢ÑÊåñ",
      mainTitle:"T21 Play Zone ‚Äî ÊåñÁüø",
      subNote:"ËôöÊãüÊåñÁüøÔºå‰ΩôÈ¢ùÊöÇÊó∂‰∏çÂú®Èìæ‰∏äÔºåÂÖà‰øùÂ≠òÂú®Êú¨Âú∞Ôºà‰ª•ÂêéÂêåÊ≠•ÊúçÂä°Âô®Ôºâ„ÄÇ",
      balLabel:"‰Ω†ÁöÑ‰ΩôÈ¢ù",
      rateLabel:"ÊåñÁüøÈÄüÂ∫¶",
      rateValue:"+20 T21 / Â§©",
      adRateLabel:"ÂπøÂëäÂ•ñÂä±",
      adRateValue:"+5 T21 / ÂπøÂëä ‚Ä¢ ÊØèÂ§©ÊúÄÂ§ö 10 Ê¨°",
      virtualTag:"ËôöÊãüÈ¢ÑÊåñ",
      noPayoutYet:" ÁõÆÂâçÊ≤°ÊúâÁúüÂÆûÂèëÊîæÔºåÂè™ÊòØÂÜÖÈÉ®ÁªüËÆ°„ÄÇ",
      mineBtnReady:"‚ñ∂ ÂºÄÂßã / È¢ÜÂèñ 20 T21",
      mineBtnBusy:"Â§ÑÁêÜ‰∏≠...",
      mineReady:"ÊØèÊó•Â•ñÂä±ÂèØÈ¢ÜÂèñ„ÄÇ",
      mineNext:"‰∏ãÊ¨°Â•ñÂä±ÂÄíËÆ°Êó∂",
      adBtn:"üé¨ ÁúãÂπøÂëä (+5 T21)",
      adInfo:function(used){return "ÂπøÂëäÂ•ñÂä±Ôºö‰ªäÂ§©Â∑≤‰ΩøÁî® "+used+" / 10";},
      adLimit:"‰ªäÊó•ÂπøÂëäÂ•ñÂä±Ê¨°Êï∞Â∑≤Êª° (10 / 10)„ÄÇ",
      walletTitle:"‰Ω†ÁöÑ TON Âú∞ÂùÄÔºàÊú™Êù•ÂèëÊîæÁî®Ôºâ",
      walletText1:"Áé∞Âú®‰∏ÄÂàáÈÉΩÊòØËôöÊãüÁöÑ„ÄÇ‰ª•Âêé‰ºöÊ†πÊçÆÊ¥ªË∑ÉÂ∫¶ÂêëÁüøÂ∑•ÂèëÊîæÁúüÂÆû T21„ÄÇ",
      walletText2:"Êàë‰ª¨‰øùÂ≠òÂú∞ÂùÄÔºåÊòØ‰∏∫‰∫ÜÂú®ÂºÄÂßãÂèëÊîæÊó∂Áü•ÈÅìÊØè‰ΩçÁüøÂ∑•ÁöÑ‰ªΩÈ¢ù„ÄÇ",
      walletNote:"Âú∞ÂùÄÂè™‰øùÂ≠òÂú®Êú¨Âú∞ÊµèËßàÂô®‰∏≠Ôºà‰ª•ÂêéÂèØÂêåÊ≠•Âà∞ÊúçÂä°Âô®Ôºâ„ÄÇ",
      aboutTitle:"ÂÖ≥‰∫é Ton21",
      aboutP1:"Ton21 (T21) ÊòØÂü∫‰∫é TON ÈìæÁöÑÁ§æÂå∫‰ª£Â∏ÅÔºåÊÄªÈáèÂõ∫ÂÆöÔºåÁÅµÊÑüÊù•Ëá™ÊØîÁâπÂ∏Å 2100 ‰∏á„ÄÇ",
      aboutP2:"ÁõÆÊ†áÊòØÊâìÈÄ†ÈïøÊúüÁîüÊÄÅÔºöÊ∏∏Êàè„ÄÅÁ©∫ÊäïÂ•ñÂä±ÂíåÁ§æÂå∫Â∑•ÂÖ∑„ÄÇ",
      aboutP3:"Ëøô‰∏™ËôöÊãüÊåñÁüø Mini App Áî®Êù•Âú®Êó©ÊúüÁî®Êà∑‰πãÈó¥ÂÖ¨Âπ≥ÂàÜÈÖçÊú™Êù•Â•ñÂä±„ÄÇ",
      howTitle:"ÊåñÁüøËßÑÂàô",
      howP1:"ÊØè 24 Â∞èÊó∂ÂèØÁÇπÂáª‰∏ÄÊ¨°ÊåñÁüøÊåâÈíÆÔºåËé∑Âæó +20 T21 ËôöÊãü‰ΩôÈ¢ù„ÄÇ",
      howP2:"ÊØèÊ¨°ÁúãÂπøÂëä +5 T21ÔºåÊØèÂ§©ÊúÄÂ§ö 10 Ê¨°„ÄÇÂèØ‰ª•ÊòØÁúüÂÆûÂπøÂëäÊàñËÄÖÈ°πÁõÆÂÆ£‰º†„ÄÇ",
      howP3:"‰ª•Âêé‰ºöÊ†πÊçÆÊú¨Âú∞‰ΩôÈ¢ùÂíå TON Âú∞ÂùÄÔºåÊâãÂä®ÂèëÊîæÁ©∫ÊäïÊàñÂ•ñÂä±„ÄÇ",
      shareTitle:"ÈÇÄËØ∑Â•ΩÂèã",
      shareText:"Êää Ton21 ÊåñÁüøÂàÜ‰∫´ÁªôÊúãÂèãÔºå‰∫∫Ë∂äÂ§öÔºåÁîüÊÄÅË∂äÂº∫„ÄÇ",
      flashSaved:"‚úÖ Âú∞ÂùÄÂ∑≤‰øùÂ≠ò",
      flashBadAddr:"‚ö†Ô∏è ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑ TON Âú∞ÂùÄÔºà‰ª• EQ Êàñ UQ ÂºÄÂ§¥Ôºâ„ÄÇ",
      flashMine:"+20 T21 Â∑≤Âä†ÂÖ•‰ΩôÈ¢ù„ÄÇ",
      flashAd:"+5 T21 ÂπøÂëäÂ•ñÂä±Â∑≤Âä†ÂÖ•‰ΩôÈ¢ù„ÄÇ",
      flashAdStart:"ÂπøÂëäÂºÄÂßãÔºåËØ∑Á≠âÂæÖ 30 Áßí‚Ä¶",
      modalMineTitle:"ÊØèÊó•Â•ñÂä± ‚Äî ÂÖàËßÇÁúãÂπøÂëä",
      modalMineText:"ËßÇÁúã 30 ÁßíÁü≠ËßÜÈ¢ëÂêéÔºå‰Ω†Â∞ÜËé∑Âæó +20 T21„ÄÇ",
      modalAdTitle:"ÂπøÂëäÂ•ñÂä±",
      modalAdText:"ËßÇÁúã 30 ÁßíÂêéÂ∞ÜËé∑Âæó +5 T21„ÄÇ",
      modalBtnClose:"ÂÖ≥Èó≠",
      modalBtnGet:"È¢ÜÂèñÂ•ñÂä±",
      needOnline:"Â¶ÇÊûúÂàÜ‰∫´Á™óÂè£Ê≤°ÊâìÂºÄÔºåËØ∑ÊâãÂä®Â§çÂà∂ÈìæÊé•„ÄÇ"
    },
    in:{
      subtitle:"Pi Network ‡§ú‡•à‡§∏‡§æ ‡§µ‡§∞‡•ç‡§ö‡•Å‡§Ö‡§≤ ‡§™‡•ç‡§∞‡•Ä-‡§Æ‡§æ‡§á‡§®",
      mainTitle:"T21 Play Zone ‚Äî Mining",
      subNote:"‡§Ø‡§π ‡§µ‡§∞‡•ç‡§ö‡•Å‡§Ö‡§≤ ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§π‡•à‡•§ ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏ ‡§Ö‡§≠‡•Ä ‡§¨‡•ç‡§≤‡•â‡§ï‡§ö‡•á‡§® ‡§™‡§∞ ‡§®‡§π‡•Ä‡§Ç, ‡§≤‡•ã‡§ï‡§≤ ‡§∏‡•ç‡§ü‡•ã‡§∞‡•á‡§ú ‡§Æ‡•á‡§Ç ‡§∏‡•á‡§µ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
      balLabel:"‡§Ü‡§™‡§ï‡§æ ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏",
      rateLabel:"‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§∏‡•ç‡§™‡•Ä‡§°",
      rateValue:"+20 T21 / ‡§¶‡§ø‡§®",
      adRateLabel:"‡§ê‡§° ‡§¨‡•ã‡§®‡§∏",
      adRateValue:"+5 T21 / ‡§ê‡§° ‚Ä¢ ‡§¶‡§ø‡§® ‡§Æ‡•á‡§Ç 10 ‡§¨‡§æ‡§∞",
      virtualTag:"‡§µ‡§∞‡•ç‡§ö‡•Å‡§Ö‡§≤ ‡§™‡•ç‡§∞‡•Ä-‡§Æ‡§æ‡§á‡§®",
      noPayoutYet:" ‡§Ö‡§≠‡•Ä ‡§Ö‡§∏‡§≤‡•Ä ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§®‡§π‡•Ä‡§Ç ‚Äî ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§Ü‡§Ç‡§§‡§∞‡§ø‡§ï ‡§∏‡•ç‡§ü‡•à‡§ü‡•ç‡§∏‡•§",
      mineBtnReady:"‚ñ∂ ‡§∏‡•ç‡§ü‡§æ‡§∞‡•ç‡§ü / 20 T21 ‡§≤‡•á‡§Ç",
      mineBtnBusy:"‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...",
      mineReady:"‡§°‡•á‡§≤‡•Ä ‡§¨‡•ã‡§®‡§∏ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡•§",
      mineNext:"‡§Ö‡§ó‡§≤‡§æ ‡§¨‡•ã‡§®‡§∏ ‡§á‡§§‡§®‡•á ‡§∏‡§Æ‡§Ø ‡§¨‡§æ‡§¶:",
      adBtn:"üé¨ ‡§ê‡§° ‡§¶‡•á‡§ñ‡•á‡§Ç (+5 T21)",
      adInfo:function(used){return "‡§ê‡§° ‡§¨‡•ã‡§®‡§∏: ‡§Ü‡§ú "+used+" / 10 ‡§á‡§∏‡•ç‡§§‡•á‡§Æ‡§æ‡§≤";},
      adLimit:"‡§Ü‡§ú ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ê‡§° ‡§¨‡•ã‡§®‡§∏ ‡§≤‡§ø‡§Æ‡§ø‡§ü ‡§™‡•Ç‡§∞‡•Ä ‡§π‡•ã ‡§ó‡§à (10 / 10)‡•§",
      walletTitle:"‡§Ü‡§™‡§ï‡§æ TON ‡§™‡§§‡§æ (‡§´‡•ç‡§Ø‡•Ç‡§ö‡§∞ ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è)",
      walletText1:"‡§Ö‡§≠‡•Ä ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§µ‡§∞‡•ç‡§ö‡•Å‡§Ö‡§≤ ‡§π‡•à‡•§ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§Æ‡§æ‡§á‡§®‡§∞‡•ç‡§∏ ‡§ï‡•ã ‡§Ö‡§∏‡§≤‡•Ä T21 ‡§≠‡•á‡§ú‡•á ‡§ú‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      walletText2:"‡§π‡§Æ ‡§™‡§§‡§æ ‡§∏‡•á‡§µ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§™‡§§‡§æ ‡§π‡•ã ‡§ï‡§ø‡§∏‡•á ‡§ï‡§ø‡§§‡§®‡§æ ‡§¶‡•á‡§®‡§æ ‡§π‡•à‡•§",
      walletNote:"‡§™‡§§‡§æ ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§á‡§∏ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§Æ‡•á‡§Ç ‡§≤‡•ã‡§ï‡§≤‡•Ä ‡§∏‡•á‡§µ ‡§π‡•ã‡§§‡§æ ‡§π‡•à (‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§™‡§∞ ‡§≠‡•Ä ‡§≠‡•á‡§ú ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç)‡•§",
      aboutTitle:"Ton21 ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç",
      aboutP1:"Ton21 (T21) ‚Äî TON ‡§¨‡•ç‡§≤‡•â‡§ï‡§ö‡•á‡§® ‡§™‡§∞ ‡§´‡§ø‡§ï‡•ç‡§∏‡•ç‡§° ‡§∏‡§™‡•ç‡§≤‡§æ‡§à ‡§µ‡§æ‡§≤‡§æ ‡§ï‡§Æ‡•ç‡§Ø‡•Å‡§®‡§ø‡§ü‡•Ä ‡§ü‡•ã‡§ï‡§® ‡§π‡•à, ‡§ú‡•ã Bitcoin ‡§ï‡•á 21M ‡§ï‡•â‡§®‡•ç‡§∏‡•á‡§™‡•ç‡§ü ‡§∏‡•á ‡§™‡•ç‡§∞‡•á‡§∞‡§ø‡§§ ‡§π‡•à‡•§",
      aboutP2:"‡§π‡§Æ‡§æ‡§∞‡§æ ‡§´‡•ã‡§ï‡§∏ ‡§≤‡•â‡§®‡•ç‡§ó-‡§ü‡§∞‡•ç‡§Æ ‡§á‡§ï‡•ã‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§π‡•à: ‡§ó‡•á‡§Æ‡•ç‡§∏, ‡§è‡§Ø‡§∞‡§°‡•ç‡§∞‡•â‡§™, ‡§∞‡§ø‡§µ‡•â‡§∞‡•ç‡§° ‡§î‡§∞ ‡§ï‡§Æ‡•ç‡§Ø‡•Å‡§®‡§ø‡§ü‡•Ä ‡§ü‡•Ç‡§≤‡•ç‡§∏‡•§",
      aboutP3:"‡§á‡§∏ Mini App ‡§Æ‡•á‡§Ç ‡§µ‡§∞‡•ç‡§ö‡•Å‡§Ö‡§≤ ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§‡•Ä ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü‡§∞‡•ç‡§∏ ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§´‡•ç‡§Ø‡•Ç‡§ö‡§∞ ‡§∞‡§ø‡§µ‡•â‡§∞‡•ç‡§° ‡§¨‡§æ‡§Ç‡§ü‡§®‡•á ‡§ï‡§æ ‡§§‡§∞‡•Ä‡§ï‡§æ ‡§π‡•à‡•§",
      howTitle:"‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à",
      howP1:"‡§π‡§∞ 24 ‡§ò‡§Ç‡§ü‡•á ‡§Æ‡•á‡§Ç ‡§Ü‡§™ ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§¨‡§ü‡§® ‡§¶‡§¨‡§æ‡§ï‡§∞ +20 T21 ‡§µ‡§∞‡•ç‡§ö‡•Å‡§Ö‡§≤ ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏ ‡§≤‡•á ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      howP2:"‡§π‡§∞ ‡§ê‡§° ‡§™‡§∞ +5 T21, ‡§¶‡§ø‡§® ‡§Æ‡•á‡§Ç ‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ 10 ‡§¨‡§æ‡§∞‡•§ ‡§Ø‡§π ‡§∞‡•Ä‡§Ø‡§≤ ‡§ê‡§° ‡§Ø‡§æ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§∏‡•ç‡§µ‡§Ø‡§Ç ‡§ï‡•á ‡§™‡•ç‡§∞‡§Æ‡•ã ‡§π‡•ã ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      howP3:"‡§Ü‡§ó‡•á ‡§ö‡§≤‡§ï‡§∞ ‡§á‡§®‡•ç‡§π‡•Ä‡§Ç ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏ ‡§ï‡•ã TON ‡§™‡§§‡•á ‡§∏‡•á ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡§∞‡§ï‡•á ‡§Æ‡•à‡§®‡•Å‡§Ö‡§≤ ‡§è‡§Ø‡§∞‡§°‡•ç‡§∞‡•â‡§™ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§",
      shareTitle:"‡§¶‡•ã‡§∏‡•ç‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§Ü‡§Æ‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç",
      shareText:"Ton21 ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§Ö‡§™‡§®‡•á ‡§¶‡•ã‡§∏‡•ç‡§§‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç ‚Äî ‡§ú‡§ø‡§§‡§®‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§Ø‡•Ç‡§ú‡§º‡§∞, ‡§â‡§§‡§®‡§æ ‡§Æ‡§ú‡§¨‡•Ç‡§§ ‡§á‡§ï‡•ã‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ‡•§",
      flashSaved:"‚úÖ ‡§™‡§§‡§æ ‡§∏‡•á‡§µ ‡§π‡•ã ‡§ó‡§Ø‡§æ",
      flashBadAddr:"‚ö†Ô∏è ‡§∏‡§π‡•Ä TON ‡§™‡§§‡§æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç (EQ ‡§Ø‡§æ UQ ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç)‡•§",
      flashMine:"+20 T21 ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏ ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º ‡§¶‡§ø‡§è ‡§ó‡§è‡•§",
      flashAd:"+5 T21 ‡§ê‡§° ‡§¨‡•ã‡§®‡§∏ ‡§ú‡•ã‡§°‡§º ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ‡•§",
      flashAdStart:"‡§ê‡§° ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã ‡§ó‡§Ø‡§æ ‚Äî 30 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§á‡§Ç‡§§‡§ú‡§º‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç‚Ä¶",
      modalMineTitle:"‡§°‡•á‡§≤‡•Ä ‡§¨‡•ã‡§®‡§∏ ‚Äî ‡§™‡§π‡§≤‡•á ‡§ê‡§° ‡§¶‡•á‡§ñ‡•á‡§Ç",
      modalMineText:"30 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§ï‡§æ ‡§õ‡•ã‡§ü‡§æ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§¶‡•á‡§ñ‡•á‡§Ç, ‡§â‡§∏‡§ï‡•á ‡§¨‡§æ‡§¶ +20 T21 ‡§Æ‡§ø‡§≤‡•á‡§Ç‡§ó‡•á‡•§",
      modalAdTitle:"‡§ê‡§° ‡§¨‡•ã‡§®‡§∏",
      modalAdText:"30 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ +5 T21 ‡§Æ‡§ø‡§≤‡•á‡§Ç‡§ó‡•á‡•§",
      modalBtnClose:"Close",
      modalBtnGet:"Reward ‡§≤‡•á‡§Ç",
      needOnline:"‡§Ö‡§ó‡§∞ ‡§∂‡•á‡§Ø‡§∞ ‡§µ‡§ø‡§Ç‡§°‡•ã ‡§®‡§π‡•Ä‡§Ç ‡§ñ‡•Å‡§≤‡§æ ‡§§‡•ã ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞ ‡§≤‡•á‡§Ç‡•§"
    },
    am:{
      subtitle:"’é’´÷Ä’ø’∏÷Ç’°’¨ pre-mine’ù ’´’∂’π’∫’•’Ω Pi Network-’®",
      mainTitle:"T21 Play Zone ‚Äî ’Ñ’°’µ’∂’´’∂’£",
      subNote:"’é’´÷Ä’ø’∏÷Ç’°’¨ ’¥’°’µ’∂’´’∂’£ ’ß‚Ä§ ’¥’∂’°÷Å’∏÷Ä’§’® ’§’•’º ’¢’¨’∏’Ø’π’•’µ’∂’∏÷Ç’¥ ’π’ß, ’∫’°’∞’æ’∏÷Ç’¥ ’ß localStorage-’∏÷Ç’¥ (’∞’•’ø’∏’ù ’Ω’•÷Ä’æ’•÷Ä’∏÷Ç’¥)÷â",
      balLabel:"’Å’•÷Ä ’¥’∂’°÷Å’∏÷Ä’§’®",
      rateLabel:"’Ñ’°’µ’∂’´’∂’£’´ ’°÷Ä’°’£’∏÷Ç’©’µ’∏÷Ç’∂",
      rateValue:"+20 T21 / ÷Ö÷Ä",
      adRateLabel:"‘≥’∏’æ’°’¶’§’°’µ’´’∂ ’¢’∏’∂’∏÷Ç’Ω",
      adRateValue:"+5 T21 / ’£’∏’æ’°’¶’§ ‚Ä¢ ÷Ö÷Ä’°’Ø’°’∂ ’¥’´’∂’π÷á 10 ’°’∂’£’°’¥",
      virtualTag:"’é’´÷Ä’ø’∏÷Ç’°’¨ pre-mine",
      noPayoutYet:" ‘±’µ’™’¥ ’´÷Ä’°’Ø’°’∂ ’æ’≥’°÷Ä’∏÷Ç’¥’∂’•÷Ä ’π’Ø’°’∂ ‚Äî ’¥’´’°’µ’∂ ’∂’•÷Ä÷Ñ’´’∂ ’æ’´’≥’°’Ø’°’£÷Ä’∏÷Ç’©’µ’∏÷Ç’∂÷â",
      mineBtnReady:"‚ñ∂ ’ç’Ø’Ω’•’¨ / ’ç’ø’°’∂’°’¨ 20 T21",
      mineBtnBusy:"’Ñ’∑’°’Ø’æ’∏÷Ç’¥ ’ß...",
      mineReady:"’ï÷Ä’µ’° ’¢’∏’∂’∏÷Ç’Ω’® ’∞’°’Ω’°’∂’•’¨’´ ’ß÷â",
      mineNext:"’Ä’°’ª’∏÷Ä’§ ’¢’∏’∂’∏÷Ç’Ω’®’ù",
      adBtn:"üé¨ ‘¥’´’ø’•’¨ ’£’∏’æ’°’¶’§ (+5 T21)",
      adInfo:function(used){return "‘≥’∏’æ’°’¶’§’´ ’¢’∏’∂’∏÷Ç’Ω’ù ’°’µ’Ω÷Ö÷Ä "+used+" / 10 ÷Ö’£’ø’°’£’∏÷Ä’Æ’æ’°’Æ";},
      adLimit:"‘±’µ’Ω÷Ö÷Ä’æ’° ’£’∏’æ’°’¶’§’°’µ’´’∂ ’¢’∏’∂’∏÷Ç’Ω’∂’•÷Ä’´ ’Ω’°’∞’¥’°’∂’® ’¨÷Ä’°÷Å’æ’°’Æ ’ß (10 / 10)÷â",
      walletTitle:"’Å’•÷Ä TON ’∞’°’Ω÷Å’•’∂ (’°’∫’°’£’° ’æ’≥’°÷Ä’∏÷Ç’¥’∂’•÷Ä’´ ’∞’°’¥’°÷Ä)",
      walletText1:"’Ä’´’¥’° ’°’¥’•’∂ ’´’∂’π ’æ’´÷Ä’ø’∏÷Ç’°’¨ ’ß÷â ’Ä’•’ø’°’£’°’µ’∏÷Ç’¥ ’°’Ø’ø’´’æ ’¥’°’µ’∂’•÷Ä’∂’•÷Ä’´’∂ ’Ø’°÷Ä’∏’≤ ’•÷Ñ ’∏÷Ç’≤’°÷Ä’Ø’•’¨ ’´÷Ä’°’Ø’°’∂ T21÷â",
      walletText2:"’Ñ’•’∂÷Ñ ’∫’°’∞’∫’°’∂’∏÷Ç’¥ ’•’∂÷Ñ ’∞’°’Ω÷Å’•’∂, ’∏÷Ä’∫’•’Ω’¶’´ ’´’¥’°’∂’°’∂÷Ñ’ù ’Ω’Ø’Ω’•’¨’∏÷Ç÷Å ’∞’•’ø’∏ ’∏÷Ç’¥ ’∏÷Ä÷Ñ’°’∂ ’∞’°’ø’Ø’°÷Å’∂’•’¨÷â",
      walletNote:"’Ä’°’Ω÷Å’•’∂ ’∫’°’∞’æ’∏÷Ç’¥ ’ß ’¥’´’°’µ’∂ ’°’µ’Ω ’¢÷Ä’°’∏÷Ç’¶’•÷Ä’∏÷Ç’¥ (’∞’•’ø’°’£’°’µ’∏÷Ç’¥ ’Ø’°÷Ä’•’¨’´ ’ß ’∏÷Ç’≤’°÷Ä’Ø’•’¨ ’Ω’•÷Ä’æ’•÷Ä)÷â",
      aboutTitle:"Ton21 ’∂’°’≠’°’£’Æ’´ ’¥’°’Ω’´’∂",
      aboutP1:"Ton21 (T21)’ù ’Ω’°’∞’¥’°’∂’°÷É’°’Ø ’©’∏’≤’°÷Ä’Ø’¥’°’¥’¢ ’©’∏÷Ñ’•’∂ TON ’¢’¨’∏’Ø’π’•’µ’∂’∏÷Ç’¥’ù ’∂’•÷Ä’∑’∂’π’æ’°’Æ Bitcoin-’´ 21M ’£’°’≤’°÷É’°÷Ä’´÷Å÷â",
      aboutP2:"’Ü’∫’°’ø’°’Ø’® ’•÷Ä’Ø’°÷Ä’°’™’°’¥’Ø’•’ø ’ß’Ø’∏’∞’°’¥’°’Ø’°÷Ä’£ ’ß’ù ’≠’°’≤’•÷Ä, airdrop-’∂’•÷Ä, ’¥÷Ä÷Å’°’∂’°’Ø’∂’•÷Ä ÷á ’£’∏÷Ä’Æ’´÷Ñ’∂’•÷Ä TON ’∞’°’¥’°’µ’∂÷Ñ’´ ’∞’°’¥’°÷Ä÷â",
      aboutP3:"‘±’µ’Ω mini-app-’´ ’æ’´÷Ä’ø’∏÷Ç’°’¨ ’¥’°’µ’∂’´’∂’£’® ÷Ö’£’∂’∏÷Ç’¥ ’ß ’°’∫’°’£’° ’∫’°÷Ä’£÷á’∂’•÷Ä’® ’¢’°’™’°’∂’•’¨ ’æ’°’≤ ’°’ª’°’Ø÷Å’∏’≤’∂’•÷Ä’´ ’¥’´’ª÷á÷â",
      howTitle:"‘ª’∂’π’∫’•’û’Ω ’ß ’°’∑’≠’°’ø’∏÷Ç’¥ ’¥’°’µ’∂’´’∂’£’®",
      howP1:"‘±’¥’•’∂ 24 ’™’°’¥’® ’¥’•’Ø ’Ø’°÷Ä’∏’≤ ’•÷Ñ ’Ω’•’≤’¥’•’¨ ¬´’Ñ’°’µ’∂’´’∂’£¬ª ’Ø’∏’≥’°’Ø’® ÷á ’Ω’ø’°’∂’°’¨ +20 T21 ’æ’´÷Ä’ø’∏÷Ç’°’¨ ’¥’∂’°÷Å’∏÷Ä’§÷â",
      howP2:"+5 T21 ’µ’∏÷Ç÷Ä’°÷Ñ’°’∂’π’µ’∏÷Ç÷Ä ’£’∏’æ’°’¶’§’´ ’∞’°’¥’°÷Ä, ÷Ö÷Ä’°’Ø’°’∂ ’¥’´’∂’π÷á 10 ’°’∂’£’°’¥÷â ‘ø’°÷Ä’∏’≤ ’•’∂ ’¨’´’∂’•’¨ ’´÷Ä’°’Ø’°’∂ ’£’∏’æ’°’¶’§’∂’•÷Ä ’Ø’°’¥ ’¥’•÷Ä ’∫÷Ä’∏’¥’∏’∂’•÷Ä’®÷â",
      howP3:"‘±’∫’°’£’°’µ’∏÷Ç’¥ ’°’µ’Ω ’¥’∂’°÷Å’∏÷Ä’§’∂’•÷Ä’® ’Ø’Ø’°’∫’æ’•’∂ TON ’∞’°’Ω÷Å’•’´ ’∞’•’ø ÷á ’Ø’°÷Ä’∏’≤ ’•’∂ ÷Ö’£’ø’°’£’∏÷Ä’Æ’æ’•’¨ ’±’•’º÷Ñ’∏’æ airdrop-’∂’•÷Ä’´ ’∞’°’¥’°÷Ä÷â",
      shareTitle:"‘ø’´’Ω’æ’´÷Ä Ton21-’∏’æ",
      shareText:"‘ø’´’Ω’æ’´÷Ä ’°’µ’Ω ’¥’°’µ’∂’´’∂’£’´ ’∞’°’æ’•’¨’æ’°’Æ’∏’æ ’®’∂’Ø’•÷Ä’∂’•÷Ä’´’§ ’∞’•’ø‚Ä§ ’∏÷Ä÷Ñ’°’∂ ’∑’°’ø ’°’Ø’ø’´’æ ÷Ö’£’ø’°’ø’•÷Ä’•÷Ä, ’°’µ’∂÷Ñ’°’∂ ’∏÷Ç’™’•’≤ Ton21 ’ß’Ø’∏’∞’°’¥’°’Ø’°÷Ä’£÷â",
      flashSaved:"‚úÖ ’Ä’°’Ω÷Å’•’∂ ’∫’°’∞’∫’°’∂’æ’•’¨ ’ß",
      flashBadAddr:"‚ö†Ô∏è ’Ñ’∏÷Ç’ø÷Ñ’°’£÷Ä’•÷Ñ ’≥’´’∑’ø TON ’∞’°’Ω÷Å’• (’Ω’Ø’Ω’æ’∏÷Ç’¥ ’ß EQ ’Ø’°’¥ UQ-’∏’æ)÷â",
      flashMine:"+20 T21 ’°’æ’•’¨’°÷Å’æ’•÷Å ’Å’•÷Ä ’¥’∂’°÷Å’∏÷Ä’§’´’∂÷â",
      flashAd:"+5 T21’ù ’£’∏’æ’°’¶’§’´ ’§’´’ø’¥’°’∂ ’∞’°’¥’°÷Ä÷â",
      flashAdStart:"‘≥’∏’æ’°’¶’§’® ’¥’•’Ø’∂’°÷Ä’Ø’•÷Å ‚Äî ’Ω’∫’°’Ω’•÷Ñ 30 ’æ’°’µ÷Ä’Ø’µ’°’∂‚Ä¶",
      modalMineTitle:"’ï÷Ä’µ’° ’¢’∏’∂’∏÷Ç’Ω ‚Äî ’∂’°’≠ ’£’∏’æ’°’¶’§",
      modalMineText:"‘¥’´’ø’•÷Ñ 30 ’æ’°’µ÷Ä’Ø’µ’°’∂ ’ø÷á’∏’≤’∏÷Ç’©’µ’°’¥’¢ ’∞’∏’¨’∏’æ’°’Ø’®, ’°’∫’° ’Ø’Ω’ø’°’∂’°÷Ñ +20 T21÷â",
      modalAdTitle:"‘≥’∏’æ’°’¶’§’°’µ’´’∂ ’¢’∏’∂’∏÷Ç’Ω",
      modalAdText:"+5 T21 ’Ø’Ω’ø’°’∂’°÷Ñ 30 ’æ’°’µ÷Ä’Ø’µ’°’∂ ’§’´’ø’∏÷Ç’¥’´÷Å ’∞’•’ø’∏÷â",
      modalBtnClose:"’ì’°’Ø’•’¨",
      modalBtnGet:"’ç’ø’°’∂’°’¨",
      needOnline:"‘µ’©’• share ’∫’°’ø’∏÷Ç’∞’°’∂’® ’π’¢’°÷Å’æ’•÷Å, ’∫’°’ø’≥’•’∂’•÷Ñ ’∞’≤’∏÷Ç’¥’®÷â"
    }
  };

  // ---------- state ----------
  var lang = localStorage.getItem("t21m_lang") || "ru";
  var balance = Number(localStorage.getItem("t21m_balance") || "0");
  var lastMine = Number(localStorage.getItem("t21m_lastMine") || "0");
  var wallet = localStorage.getItem("t21m_wallet") || "";
  var adsDate = localStorage.getItem("t21m_adsDate") || "";
  var adsUsed = Number(localStorage.getItem("t21m_adsUsed") || "0");

  // ---------- dom ----------
  var $ = function(id){return document.getElementById(id);};
  var langSel = $("langSel");
  var subtitle = $("subtitle");
  var mainTitle = $("mainTitle");
  var subNote = $("subNote");
  var balanceValue = $("balanceValue");
  var balLabel = $("balLabel");
  var rateLabel = $("rateLabel");
  var rateValue = $("rateValue");
  var adRateLabel = $("adRateLabel");
  var adRateValue = $("adRateValue");
  var virtualTag = $("virtualTag");
  var noPayoutYet = $("noPayoutYet");
  var mineBtn = $("mineBtn");
  var mineTimer = $("mineTimer");
  var adBtn = $("adBtn");
  var adInfo = $("adInfo");
  var walletTitle = $("walletTitle");
  var walletText1 = $("walletText1");
  var walletText2 = $("walletText2");
  var walletNote = $("walletNote");
  var walletInput = $("walletInput");
  var saveWalletBtn = $("saveWalletBtn");
  var aboutTitle = $("aboutTitle");
  var aboutP1 = $("aboutP1");
  var aboutP2 = $("aboutP2");
  var aboutP3 = $("aboutP3");
  var howTitle = $("howTitle");
  var howP1 = $("howP1");
  var howP2 = $("howP2");
  var howP3 = $("howP3");
  var shareTitle = $("shareTitle");
  var shareText = $("shareText");
  var shareBtn = $("shareBtn");
  var footerText = $("footerText");
  var flash = $("flash");

  var adModal = $("adModal");
  var adBar = $("adBar");
  var adCountdownText = $("adCountdownText");
  var adModalTitle = $("adModalTitle");
  var adModalText = $("adModalText");
  var adCloseBtn = $("adCloseBtn");
  var adClaimBtn = $("adClaimBtn");

  var adContext = null; // "mine" or "ad"
  var adTimer = null;
  var adLeft = 0;

  // ---------- backend helpers ----------

  async function apiGetUser(){
    try{
      const res = await fetch(API + "/user?id=" + encodeURIComponent(userId));
      if(!res.ok) return null;
      return await res.json();
    }catch(e){
      return null;
    }
  }

  async function apiSaveAddress(addr){
    try{
      await fetch(API + "/save_address", {
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body:JSON.stringify({ id:userId, address:addr })
      });
    }catch(e){}
  }

  async function apiAddMining(){
    try{
      await fetch(API + "/add_mining", {
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body:JSON.stringify({ id:userId, amount:DAILY_REWARD })
      });
    }catch(e){}
  }

  async function apiAddAdReward(){
    try{
      const res = await fetch(API + "/add_ad_reward", {
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body:JSON.stringify({ id:userId, amount:AD_REWARD })
      });
      if(res.ok){
        const data = await res.json().catch(()=>null);
        if(data && typeof data.balance === "number"){
          balance = data.balance;
        }
        if(data && typeof data.adsToday === "number"){
          adsUsed = data.adsToday;
          adsDate = todayKey();
        }
        saveState();
        updateBalanceUI();
        updateAdInfo();
      }
    }catch(e){}
  }

  async function syncFromServer(){
    const data = await apiGetUser();
    if(!data) return;
    if(typeof data.balance === "number") balance = data.balance;
    if(typeof data.lastMining === "number") lastMine = data.lastMining;
    if(data.address){
      wallet = data.address;
      if(walletInput) walletInput.value = wallet;
    }
    if(typeof data.adsToday === "number" && data.lastAdDay){
      adsUsed = data.adsToday;
      adsDate = data.lastAdDay;
    }
    saveState();
    updateBalanceUI();
    updateAdInfo();
    updateMineUI();
  }

  // ---------- helpers ----------
  function todayKey(){
    return (new Date()).toISOString().slice(0,10);
  }

  function ensureAdDay(){
    var today = todayKey();
    if(adsDate !== today){
      adsDate = today;
      adsUsed = 0;
      localStorage.setItem("t21m_adsDate", adsDate);
      localStorage.setItem("t21m_adsUsed", String(adsUsed));
    }
  }

  function fmt2(n){return n<10?"0"+n:String(n);}

  function humanLeft(ms){
    if(ms <= 0) return "00:00:00";
    var s = Math.floor(ms/1000);
    var h = Math.floor(s/3600); s-=h*3600;
    var m = Math.floor(s/60); s-=m*60;
    return fmt2(h)+":"+fmt2(m)+":"+fmt2(s);
  }

  function flashMsg(text, ms){
    if(ms === undefined) ms = 1800;
    flash.textContent = text;
    flash.style.display = "block";
    setTimeout(function(){ flash.style.display="none"; }, ms);
  }

  function saveState(){
    localStorage.setItem("t21m_lang", lang);
    localStorage.setItem("t21m_balance", String(balance));
    localStorage.setItem("t21m_lastMine", String(lastMine));
    localStorage.setItem("t21m_wallet", wallet);
    localStorage.setItem("t21m_adsDate", adsDate);
    localStorage.setItem("t21m_adsUsed", String(adsUsed));
  }

  function isValidTon(a){
    a = (a || "").trim();
    return /^E[Q]/.test(a) || /^UQ/.test(a);
  }

  function applyLang(){
    var tr = T[lang] || T.en;
    document.documentElement.lang = lang === "cn" ? "zh" : lang;
    subtitle.textContent = tr.subtitle;
    mainTitle.textContent = tr.mainTitle;
    subNote.textContent = tr.subNote;
    balLabel.textContent = tr.balLabel;
    rateLabel.textContent = tr.rateLabel;
    rateValue.textContent = tr.rateValue;
    adRateLabel.textContent = tr.adRateLabel;
    adRateValue.textContent = tr.adRateValue;
    virtualTag.textContent = tr.virtualTag;
    noPayoutYet.textContent = tr.noPayoutYet;
    adBtn.textContent = tr.adBtn;
    walletTitle.textContent = tr.walletTitle;
    walletText1.textContent = tr.walletText1;
    walletText2.textContent = tr.walletText2;
    walletNote.textContent = tr.walletNote;
    aboutTitle.textContent = tr.aboutTitle;
    aboutP1.textContent = tr.aboutP1;
    aboutP2.textContent = tr.aboutP2;
    aboutP3.textContent = tr.aboutP3;
    howTitle.textContent = tr.howTitle;
    howP1.textContent = tr.howP1;
    howP2.textContent = tr.howP2;
    howP3.textContent = tr.howP3;
    shareTitle.textContent = tr.shareTitle;
    shareText.textContent = tr.shareText;
    shareBtn.textContent = "üîó " + tr.shareTitle;
    adCloseBtn.textContent = tr.modalBtnClose;
    adClaimBtn.textContent = tr.modalBtnGet;
    footerText.textContent = "Powered by Ton21 Project ‚Ä¢ v0.2 virtual pre-mine ‚Ä¢ Balance stored in browser (localStorage)";
    updateAdInfo();
    updateMineUI();
  }

  function updateBalanceUI(){
    balanceValue.textContent = balance.toFixed(2).replace(/\.00$/,"");
  }

  function updateAdInfo(){
    ensureAdDay();
    var tr = T[lang] || T.en;
    if(typeof tr.adInfo === "function"){
      adInfo.textContent = tr.adInfo(adsUsed);
    }else{
      adInfo.textContent = tr.adInfo;
    }
    if(adsUsed >= MAX_ADS_PER_DAY){
      adBtn.disabled = true;
    }else{
      adBtn.disabled = false;
    }
  }

  function updateMineUI(){
    var tr = T[lang] || T.en;
    var now = Date.now();
    var left = lastMine ? (lastMine + DAY_MS - now) : -1;
    if(!lastMine || left <= 0){
      mineBtn.disabled = false;
      mineBtn.textContent = tr.mineBtnReady;
      mineTimer.textContent = tr.mineReady;
    }else{
      mineBtn.disabled = true;
      mineBtn.textContent = tr.mineBtnReady;
      mineTimer.textContent = tr.mineNext + " " + humanLeft(left);
    }
  }

  setInterval(function(){
    updateMineUI();
  }, 1000);

  // ---------- fake ad flow ----------
  function startAdFlow(context){
    ensureAdDay();
    var tr = T[lang] || T.en;

    if(context === "ad" && adsUsed >= MAX_ADS_PER_DAY){
      flashMsg(tr.adLimit, 2000);
      return;
    }

    adContext = context;
    adBar.style.width = "0%";
    adCountdownText.textContent = "00:"+fmt2(AD_SECONDS);
    adCloseBtn.disabled = true;
    adClaimBtn.disabled = true;

    if(context === "mine"){
      adModalTitle.textContent = tr.modalMineTitle;
      adModalText.textContent = tr.modalMineText;
    }else{
      adModalTitle.textContent = tr.modalAdTitle;
      adModalText.textContent = tr.modalAdText;
    }

    adModal.style.display = "flex";
    flashMsg(tr.flashAdStart, 1600);

    var elapsed = 0;
    if(adTimer){ clearInterval(adTimer); }
    adTimer = setInterval(function(){
      elapsed += 1;
      var left = AD_SECONDS - elapsed;
      if(left < 0) left = 0;
      adCountdownText.textContent = "00:"+fmt2(left);
      var pct = Math.min(100, Math.floor(elapsed / AD_SECONDS * 100));
      adBar.style.width = pct + "%";

      if(elapsed >= AD_SECONDS){
        clearInterval(adTimer);
        adTimer = null;
        adClaimBtn.disabled = false;
        adCloseBtn.disabled = false;
      }
    }, 1000);
  }

  function closeAdModal(){
    adModal.style.display = "none";
    if(adTimer){ clearInterval(adTimer); adTimer = null; }
  }

  function finishAdReward(){
    var tr = T[lang] || T.en;
    closeAdModal();

    if(adContext === "mine"){
      // give daily reward
      var now = Date.now();
      var left = lastMine ? (lastMine + DAY_MS - now) : -1;
      if(lastMine && left > 0){
        updateMineUI();
        return;
      }
      lastMine = now;
      balance += DAILY_REWARD;
      saveState();
      updateBalanceUI();
      updateMineUI();
      flashMsg(tr.flashMine, 2200);
      apiAddMining(); // fire-and-forget
    }else if(adContext === "ad"){
      ensureAdDay();
      if(adsUsed >= MAX_ADS_PER_DAY){
        updateAdInfo();
        return;
      }
      adsUsed += 1;
      balance += AD_REWARD;
      saveState();
      updateBalanceUI();
      updateAdInfo();
      flashMsg(tr.flashAd, 2000);
      apiAddAdReward(); // fire-and-forget, syncs real balance/adsToday
    }
    adContext = null;
  }

  // ---------- events ----------
  langSel.value = lang;
  langSel.addEventListener("change", function(){
    lang = langSel.value;
    saveState();
    applyLang();
  });

  walletInput.value = wallet;

  saveWalletBtn.addEventListener("click", function(){
    var tr = T[lang] || T.en;
    var v = walletInput.value.trim();
    if(!isValidTon(v)){
      flashMsg(tr.flashBadAddr, 2200);
      return;
    }
    wallet = v;
    saveState();
    apiSaveAddress(wallet);
    flashMsg(tr.flashSaved, 1800);
  });

  mineBtn.addEventListener("click", function(){
    var now = Date.now();
    var left = lastMine ? (lastMine + DAY_MS - now) : -1;
    if(lastMine && left > 0){
      updateMineUI();
      return;
    }
    startAdFlow("mine");
  });

  adBtn.addEventListener("click", function(){
    startAdFlow("ad");
  });

  adCloseBtn.addEventListener("click", function(){
    closeAdModal();
  });

  adClaimBtn.addEventListener("click", function(){
    finishAdReward();
  });

  shareBtn.addEventListener("click", function(){
    var tr = T[lang] || T.en;
    var url = window.location.href;
    var text = "T21 Mining ‚Äî virtual pre-mine like Pi Network. Join early: " + url;
    if(navigator.share){
      navigator.share({title:"T21 Play Zone ‚Äî Mining", text:text, url:url}).catch(function(){});
    }else if(navigator.clipboard && navigator.clipboard.writeText){
      navigator.clipboard.writeText(text).then(function(){
        flashMsg("Link copied to clipboard", 1600);
      }).catch(function(){
        flashMsg(tr.needOnline, 1800);
      });
    }else{
      flashMsg(tr.needOnline, 1800);
    }
  });

  // ---------- init ----------
  ensureAdDay();
  updateBalanceUI();
  applyLang();
  syncFromServer(); // –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ Cloudflare KV
</script>
</body>
</html>
